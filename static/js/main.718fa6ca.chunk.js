(this["webpackJsonpwhere-is-my-books-app"]=this["webpackJsonpwhere-is-my-books-app"]||[]).push([[0],{71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(21),a=n.n(c),o=n(3),i=n(17),s=n(7),u=n(0),b=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Navbar"}),Object(u.jsx)("span",{children:Object(u.jsx)(i.b,{to:"/persona",children:"  personas  "})}),Object(u.jsx)("span",{children:Object(u.jsx)(i.b,{to:"/libro",children:"  libros  "})}),Object(u.jsx)("span",{children:Object(u.jsx)(i.b,{to:"/genero",children:"  generos  "})}),Object(u.jsx)("br",{}),Object(u.jsx)("hr",{})]})},j=n(2),l=n(4),p=n.n(l),d=n(8),O="[libro] Cargar Libros",f="[libro] Agregar Libro",h="[libro] Prestar Libro",x="[libro] Devolver Libro",v="[libro] Borrar Libro",m="[libro] Actualizar Libro",g="[genero] Cargar Generos",y="[genero] Agregar Genero",_="[genero] Borrar Genero",w="[persona] Cargar personas",C="[persona] Agregar persona",S="[persona] Borrar persona",k="[persona] Actualizar persona",E=n(9),B=n.n(E),A="https://node-tp-integrador-server.herokuapp.com",D=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat(A,"/categoria"));case 2:n=e.sent,r=n.status,c=n.data,200===r?t(I(c.categorias)):console.log("Error: ".concat(c.mensaje," Status: ").concat(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(e){return{type:g,payload:e}},P=function(e){return{type:_,payload:e}},L=function(e){return{type:y,payload:e}},T=n(6),N=n(22),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useState)(e),n=Object(T.a)(t,2),c=n[0],a=n[1],o=function(){a(e)},i=function(e){var t=e.target;a(Object(j.a)(Object(j.a)({},c),{},Object(N.a)({},t.name,t.value)))};return[c,i,o]},z={nombre:""},G=function(){var e=Object(o.b)(),t=H(z),n=Object(T.a)(t,3),r=n[0],c=n[1],a=n[2],i=r.nombre;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Agregar genero"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r,c,a,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={nombre:e},t.next=3,B.a.post("".concat(A,"/categoria"),r);case 3:c=t.sent,a=c.status,o=c.data,200===a?n(L(o.categoria)):console.log("Error: ".concat(o.mensaje," Status: ").concat(a));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(i)),a()},children:[Object(u.jsx)("input",{type:"text",name:"nombre",onChange:c,value:i,placeholder:"Ingresar nombre",autoComplete:"off"}),Object(u.jsx)("button",{type:"submit",children:" Hecho "})]})]})},J=function(e){var t=e.nombre,n=e._id,r=Object(o.b)();return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:t}),Object(u.jsx)("button",{onClick:function(){r(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r,c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.delete("".concat(A,"/categoria/").concat(e));case 2:r=t.sent,c=r.status,a=r.data,200===c?n(P(e)):console.log("Error: ".concat(a.mensaje," Status: ").concat(c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))},children:"Borrar"}),Object(u.jsx)("br",{})]})},U=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.genero})).generos;return Object(r.useEffect)((function(){e(D())}),[e]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Genero Page"}),Object(u.jsx)(G,{}),null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(J,Object(j.a)({},e),e._id)}))]})},X=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"HomePage"})})},M="https://node-tp-integrador-server.herokuapp.com",R=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat(M,"/libro"));case 2:n=e.sent,r=n.status,c=n.data,200===r?t(V(c.libros)):console.log("Error: ".concat(c.mensaje," Status: ").concat(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(e){return{type:O,payload:e}},q=function(e){return{type:v,payload:e}},F=function(e){return{type:x,payload:e}},K=function(e,t){return{type:h,payload:{id:e,persona_id:t}}},Q=function(e){return{type:f,payload:e}},W=function(e,t){return{type:m,payload:{id:e,libro:t}}},Y="https://node-tp-integrador-server.herokuapp.com",Z=function(){return function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.get("".concat(Y,"/persona"));case 3:n=e.sent,r=n.data,t($(r.personas)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},$=function(e){return{type:w,payload:e}},ee=function(e){return{type:S,payload:e}},te=function(e,t){return{type:k,payload:{id:e,persona:t}}},ne=function(e){var t=e.id,n=Object(o.b)(),c=Object(o.c)((function(e){return e.persona})).personas,a=Object(o.c)((function(e){return e.libro})).libros,i=Object(r.useState)({}),s=Object(T.a)(i,2),b=s[0],j=s[1],l=b.nombre,O=b.descripcion,f=b.persona_id,h=Object(r.useState)({}),x=Object(T.a)(h,2),v=x[0],m=x[1],g=Object(r.useState)(!1),y=Object(T.a)(g,2),_=y[0],w=y[1],C=H({descripcion:""}),S=Object(T.a)(C,3),k=S[0],E=S[1],A=S[2],D=k.descripcion,I=function(e){n(function(e,t){return function(){var n=Object(d.a)(p.a.mark((function n(r){var c,a,o,i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={persona_id:t},n.next=3,B.a.put("".concat(M,"/libro/prestar/").concat(e),c);case 3:a=n.sent,o=a.status,i=a.data,200===o?r(K(e,t)):console.log("Error: ".concat(i.mensaje," Status: ").concat(o));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,e)),w(!1)};return Object(r.useEffect)((function(){var e=a.find((function(e){return e._id===t}));j(e)}),[t,a]),Object(r.useEffect)((function(){var e=c.find((function(e){return e._id===f}));m(e)}),[f,c]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Nombre:"}),Object(u.jsx)("p",{children:l}),Object(u.jsx)("h2",{children:"Descripcion: "}),Object(u.jsx)("p",{children:O}),v&&Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Prestado a"}),Object(u.jsx)("p",{children:v.nombre})]}),Object(u.jsx)("button",{onClick:function(){w(!_)},children:"Prestar a"}),_&&c.map((function(e){return Object(u.jsx)("div",{onClick:function(){return I(e._id)},children:e.nombre},e._id)})),Object(u.jsx)("button",{onClick:function(){n(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r,c,a,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={id:e},t.next=3,B.a.put("".concat(M,"/libro/devolver/").concat(e),r);case 3:c=t.sent,a=c.status,o=c.data,200===a?n(F(e)):console.log("Error: ".concat(o.mensaje," Status: ").concat(a));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:"Devolver"}),Object(u.jsx)("button",{onClick:function(){n(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r,c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.delete("".concat(M,"/libro/").concat(e));case 2:r=t.sent,c=r.status,a=r.data,200===c?n(q(e)):console.log("Error: ".concat(a.mensaje," Status: ").concat(c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:"Borrar"}),Object(u.jsx)("h3",{children:"Actualizar"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(function(e,t){return function(){var n=Object(d.a)(p.a.mark((function n(r){var c,a,o,i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={descripcion:t},n.next=3,B.a.put("".concat(M,"/libro/").concat(e),c);case 3:a=n.sent,o=a.status,i=a.data,200===o?r(W(e,i.libro)):console.log("Error: ".concat(i.mensaje," Status: ").concat(o));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,D)),A()},children:[Object(u.jsx)("input",{type:"text",name:"descripcion",onChange:E,value:D,placeholder:"Ingresar descripcion",autoComplete:"off"}),Object(u.jsx)("button",{type:"submit",children:" Hecho "})]}),Object(u.jsx)("br",{})]})},re=function(){var e=Object(r.useState)(""),t=Object(T.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(T.a)(a,2),s=i[0],b=i[1],j=Object(r.useState)(!1),l=Object(T.a)(j,2),p=l[0],d=l[1],O=Object(o.c)((function(e){return e.genero})).generos,f=Object(o.c)((function(e){return e.libro})).libros,h=function(e){c(e.target.value)};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Buscar libros por genero: "}),Object(u.jsxs)("select",{value:n,onChange:h,children:[Object(u.jsx)("option",{hidden:!0,children:" Seleccione un genero "}),O.map((function(e){return Object(u.jsx)("option",{value:e._id,onSelect:h,children:e.nombre},e._id)}))]}),Object(u.jsx)("button",{onClick:function(){b(f.filter((function(e){return e.categoria_id===n}))),d(!0)},children:"Buscar"}),p&&s.map((function(e){return Object(u.jsx)(ne,{id:e._id},e._id)}))]})},ce={nombre:"",descripcion:"",categoria:"",persona:""},ae=function(){var e=Object(o.b)(),t=H(ce),n=Object(T.a)(t,3),c=n[0],a=n[1],i=n[2],s=c.nombre,b=c.descripcion,j=Object(o.c)((function(e){return e.genero})).generos,l=Object(r.useState)(""),O=Object(T.a)(l,2),f=O[0],h=O[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Agregar libro"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t,n){return function(){var r=Object(d.a)(p.a.mark((function r(c){var a,o,i,s;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a={nombre:e,descripcion:t,categoria_id:n},r.next=3,B.a.post("".concat(M,"/libro"),a);case 3:o=r.sent,i=o.status,s=o.data,200===i?c(Q(s.libro)):console.log("Error: ".concat(s.mensaje," Status: ").concat(i));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(s,b,f)),i()},children:[Object(u.jsx)("input",{type:"text",name:"nombre",onChange:a,value:s,placeholder:"Ingresar nombre",autoComplete:"off"}),Object(u.jsx)("input",{type:"text",name:"descripcion",onChange:a,value:b,placeholder:"Ingresar descripcion",autoComplete:"off"}),Object(u.jsxs)("select",{value:f,onChange:function(e){h(e.target.value)},children:[Object(u.jsx)("option",{hidden:!0,children:" Seleccione un genero "}),j.map((function(e){return Object(u.jsx)("option",{value:e._id,children:e.nombre},e._id)}))]}),Object(u.jsx)("button",{type:"submit",children:" Hecho "})]})]})},oe=function(){var e=H({searchText:""}),t=Object(T.a)(e,2),n=t[0],c=t[1],a=Object(o.c)((function(e){return e.libro})).libros,i=Object(r.useState)([]),s=Object(T.a)(i,2),b=s[0],j=s[1],l=Object(r.useState)(!1),p=Object(T.a)(l,2),d=p[0],O=p[1],f=n.searchText;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:" Buscar libro "}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),f.length>0){var t=f.toUpperCase(),n=a.filter((function(e){return e.nombre.includes(t)}));j(n),O(!0)}},children:[Object(u.jsx)("input",{type:"text",placeholder:"Buscar libro por nombre",name:"searchText",autoComplete:"off",value:f,onChange:c}),Object(u.jsx)("button",{type:"submit",className:"btn m-1 btn-block btn-outline-primary",children:"Buscar..."})]}),Object(u.jsxs)("div",{children:[d&&0===b.length&&Object(u.jsx)("div",{children:"El libro no se encuentra"}),b.map((function(e){return Object(u.jsx)(ne,{id:e._id},e._id)}))]}),Object(u.jsx)("hr",{})]})},ie=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.libro})).libros;return Object(r.useEffect)((function(){e(R()),e(Z()),e(D())}),[e]),Object(u.jsxs)("div",{children:[Object(u.jsx)(oe,{}),Object(u.jsx)(ae,{}),Object(u.jsx)("h1",{children:"LibroPage"}),null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(ne,{id:e._id},e._id)})),Object(u.jsx)(re,{})]})},se=function(e){var t=e.id,n=Object(o.c)((function(e){return e.libro})).libros,c=Object(r.useState)([]),a=Object(T.a)(c,2),i=a[0],s=a[1],b=Object(r.useState)(!1),j=Object(T.a)(b,2),l=j[0],p=j[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(){var e=n.filter((function(e){return e.persona_id===t}));s(e),p(!0)},children:"Cargar libros de la persona"}),l&&(null===i||void 0===i?void 0:i.map((function(e){return Object(u.jsx)(ne,{id:e._id},e._id)})))]})},ue=function(e){var t=e.nombre,n=e.apellido,r=e.alias,c=e.email,a=e._id,i=Object(o.b)(),s=H({name:"",surname:"",userTag:""}),b=Object(T.a)(s,3),j=b[0],l=b[1],O=b[2],f=j.name,h=j.surname,x=j.userTag;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Nombre :"}),Object(u.jsx)("p",{children:t}),Object(u.jsx)("h2",{children:"Apellido: "}),Object(u.jsx)("p",{children:n}),Object(u.jsx)("h2",{children:"Alias :"}),Object(u.jsx)("p",{children:r}),Object(u.jsx)("h2",{children:"Email: "}),Object(u.jsx)("p",{children:c}),Object(u.jsx)("button",{onClick:function(){i(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.a.delete("".concat(Y,"/persona/").concat(e));case 3:n(ee(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(a))},children:"Borrar"}),Object(u.jsx)("h3",{children:"Actualizar"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(function(e,t,n,r){return function(){var c=Object(d.a)(p.a.mark((function c(a){var o,i,s;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o={nombre:t,apellido:n,alias:r},c.prev=1,c.next=4,B.a.put("".concat(Y,"/persona/").concat(e),o);case 4:i=c.sent,s=i.data,a(te(e,s.persona)),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),console.log(c.t0);case 12:case"end":return c.stop()}}),c,null,[[1,9]])})));return function(e){return c.apply(this,arguments)}}()}(a,f,h,x)),O()},children:[Object(u.jsx)("input",{type:"text",name:"name",onChange:l,value:f,placeholder:"Ingresar nombre",autoComplete:"off"}),Object(u.jsx)("input",{type:"text",name:"surname",onChange:l,value:h,placeholder:"Ingresar apellido",autoComplete:"off"}),Object(u.jsx)("input",{type:"text",name:"userTag",onChange:l,value:x,placeholder:"Ingresar alias",autoComplete:"off"}),Object(u.jsx)("button",{type:"submit",children:" Hecho "})]}),Object(u.jsx)(se,{id:a}),Object(u.jsx)("br",{})]})},be=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.persona})).personas;return Object(r.useEffect)((function(){e(Z()),e(R())}),[e]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"PersonaPage"}),null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(ue,Object(j.a)({},e),e._id)}))]})},je=function(){return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(b,{}),Object(u.jsxs)(s.d,{children:[Object(u.jsx)(s.b,{exact:!0,path:"/",component:X}),Object(u.jsx)(s.b,{exact:!0,path:"/persona",component:be}),Object(u.jsx)(s.b,{exact:!0,path:"/genero",component:U}),Object(u.jsx)(s.b,{exact:!0,path:"/libro",component:ie}),Object(u.jsx)(s.a,{to:"/"})]})]})},le=n(18),pe=n(37),de=n(16),Oe={generos:[]},fe={libros:[]},he={personas:[]},xe=Object(le.b)({libro:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),{},{libros:t.payload});case v:return Object(j.a)(Object(j.a)({},e),{},{libros:e.libros.filter((function(e){return e._id!==t.payload}))});case x:return Object(j.a)(Object(j.a)({},e),{},{libros:e.libros.map((function(e){return e._id===t.payload&&(e.persona_id=null),e}))});case h:return Object(j.a)(Object(j.a)({},e),{},{libros:e.libros.map((function(e){return e._id===t.payload.id&&(e.persona_id=t.payload.persona_id),e}))});case f:return Object(j.a)(Object(j.a)({},e),{},{libros:[t.payload].concat(Object(de.a)(e.libros))});case m:return Object(j.a)(Object(j.a)({},e),{},{libros:e.libros.map((function(e){return e._id===t.payload.id&&(e=t.payload.libro),e}))});default:return e}},persona:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(j.a)(Object(j.a)({},e),{},{personas:t.payload});case S:return Object(j.a)(Object(j.a)({},e),{},{personas:e.personas.filter((function(e){return e._id!==t.payload}))});case C:return Object(j.a)(Object(j.a)({},e),{},{personas:[t.payload].concat(Object(de.a)(e.personas))});case k:return Object(j.a)(Object(j.a)({},e),{},{personas:e.personas.map((function(e){return e._id===t.payload.id&&(e=t.payload.persona),e}))});default:return e}},genero:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(j.a)(Object(j.a)({},e),{},{generos:t.payload});case _:return Object(j.a)(Object(j.a)({},e),{},{generos:e.generos.filter((function(e){return e._id!==t.payload}))});case y:return Object(j.a)(Object(j.a)({},e),{},{generos:[t.payload].concat(Object(de.a)(e.generos))});default:return e}}}),ve="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.c,me=Object(le.d)(xe,ve(Object(le.a)(pe.a))),ge=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(o.a,{store:me,children:Object(u.jsx)(je,{})})})};n(71);a.a.render(Object(u.jsx)(ge,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.718fa6ca.chunk.js.map